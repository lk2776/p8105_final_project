<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="Tai Yue" />

<meta name="date" content="2024-12-04" />

<title>Untitled</title>

<script src="site_libs/header-attrs-2.28/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/flatly.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="site_libs/font-awesome-6.4.2/css/all.min.css" rel="stylesheet" />
<link href="site_libs/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet" />

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>






<link rel="stylesheet" href="custom.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before, .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "\e259";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "\e258";
  font-family: 'Glyphicons Halflings';
  border: none;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->




</head>

<body>


<div class="container-fluid main-container">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Home</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="data.html">Data</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Milk Production
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="milk_cows.html">Milk Cows</a>
    </li>
    <li>
      <a href="milk_production.html">Milk Production</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Milk Statistics
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="milk-over-the-years-1.html">Milk Over the Years</a>
    </li>
    <li>
      <a href="Trends-in-Different-Milk-Types-Over-Time-1.html">Milk Types Compared</a>
    </li>
    <li>
      <a href="Flavored--1.html">Flavoured vs Non Flavoured</a>
    </li>
  </ul>
</li>
<li>
  <a href="nutri.html">Nutrition</a>
</li>
<li>
  <a href="Report.html">Report</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="About-us.html">About the Team</a>
</li>
<li>
  <a href="https://github.com/lk2776/p8105_final_project/">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">Untitled</h1>
<h4 class="author">Tai Yue</h4>
<h4 class="date">2024-12-04</h4>

</div>


<div id="milk-over-the-years" class="section level1">
<h1>milk over the years</h1>
<pre class="r"><code>library(readxl)
library(dplyr)

file_path &lt;- &quot;fluidmilk.xlsx&quot;
fluidmilk_data &lt;- read_excel(file_path, sheet = &quot;fluidmilk&quot;)</code></pre>
<pre><code>## New names:
## • `` -&gt; `...2`
## • `` -&gt; `...3`
## • `` -&gt; `...4`
## • `` -&gt; `...5`
## • `` -&gt; `...6`
## • `` -&gt; `...7`
## • `` -&gt; `...8`
## • `` -&gt; `...9`
## • `` -&gt; `...10`</code></pre>
<pre class="r"><code>colnames(fluidmilk_data) &lt;- c(&quot;Year&quot;, &quot;Whole_Milk&quot;, &quot;Reduced_Fat_2_%&quot;, 
                              &quot;Low_Fat_1_%&quot;, &quot;Skim&quot;, &quot;Flavored_Whole&quot;, 
                              &quot;Flavored_Other&quot;, &quot;Buttermilk&quot;, &quot;Eggnog&quot;, &quot;Total_Sales&quot;)


fluidmilk_data &lt;- fluidmilk_data %&gt;%
  mutate(Year = as.numeric(Year)) %&gt;%
  filter(!is.na(Year))</code></pre>
<pre><code>## Warning: There was 1 warning in `mutate()`.
## ℹ In argument: `Year = as.numeric(Year)`.
## Caused by warning:
## ! NAs introduced by coercion</code></pre>
<pre class="r"><code>fluidmilk_data &lt;- fluidmilk_data %&gt;%
  mutate(across(Whole_Milk:Total_Sales, as.numeric))

print(fluidmilk_data)</code></pre>
<pre><code>## # A tibble: 49 × 10
##     Year Whole_Milk `Reduced_Fat_2_%` `Low_Fat_1_%`  Skim Flavored_Whole
##    &lt;dbl&gt;      &lt;dbl&gt;             &lt;dbl&gt;         &lt;dbl&gt; &lt;dbl&gt;          &lt;dbl&gt;
##  1  1975      36188              8726          2742  2480           1366
##  2  1976      35241              9556          2875  2524           1475
##  3  1977      34036             10423          3003  2617           1446
##  4  1978      33235             11017          3233  2543           1359
##  5  1979      32480             11762          3281  2604           1236
##  6  1980      31253             12435          3483  2636           1075
##  7  1981      30397             13088          3574  2583            843
##  8  1982      29350             13501          3537  2449            710
##  9  1983      28871             14183          3455  2474            749
## 10  1984      28204             15143          3382  2726            907
## # ℹ 39 more rows
## # ℹ 4 more variables: Flavored_Other &lt;dbl&gt;, Buttermilk &lt;dbl&gt;, Eggnog &lt;dbl&gt;,
## #   Total_Sales &lt;dbl&gt;</code></pre>
<pre class="r"><code>key_stats &lt;- fluidmilk_data %&gt;%
  summarise(
    across(everything(), list(mean = mean, sd = sd, min = min, max = max), na.rm = TRUE)
  )


print(key_stats)</code></pre>
<pre><code>## # A tibble: 1 × 40
##   Year_mean Year_sd Year_min Year_max Whole_Milk_mean Whole_Milk_sd
##       &lt;dbl&gt;   &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;           &lt;dbl&gt;         &lt;dbl&gt;
## 1      1999    14.3     1975     2023          20872.         6578.
## # ℹ 34 more variables: Whole_Milk_min &lt;dbl&gt;, Whole_Milk_max &lt;dbl&gt;,
## #   `Reduced_Fat_2_%_mean` &lt;dbl&gt;, `Reduced_Fat_2_%_sd` &lt;dbl&gt;,
## #   `Reduced_Fat_2_%_min` &lt;dbl&gt;, `Reduced_Fat_2_%_max` &lt;dbl&gt;,
## #   `Low_Fat_1_%_mean` &lt;dbl&gt;, `Low_Fat_1_%_sd` &lt;dbl&gt;, `Low_Fat_1_%_min` &lt;dbl&gt;,
## #   `Low_Fat_1_%_max` &lt;dbl&gt;, Skim_mean &lt;dbl&gt;, Skim_sd &lt;dbl&gt;, Skim_min &lt;dbl&gt;,
## #   Skim_max &lt;dbl&gt;, Flavored_Whole_mean &lt;dbl&gt;, Flavored_Whole_sd &lt;dbl&gt;,
## #   Flavored_Whole_min &lt;dbl&gt;, Flavored_Whole_max &lt;dbl&gt;, …</code></pre>
<div id="sales-over-time" class="section level2">
<h2>sales over time</h2>
<pre class="r"><code>library(ggplot2)
library(tidyr)


ggplot(fluidmilk_data, aes(x = Year, y = Total_Sales)) +
  geom_line(color = &quot;blue&quot;, size = 1) +
  scale_y_continuous(limits = c(25000, NA)) +  
  labs(
    title = &quot;Total Fluid Milk Sales Over Time&quot;,
    x = &quot;Year&quot;,
    y = &quot;Total Sales (Million Pounds)&quot;
  ) +
  theme_minimal()</code></pre>
<p><img src="milk-over-the-years_files/figure-html/unnamed-chunk-2-1.png" width="672" /></p>
<p>a.Growth Period (1975 to mid-1980s): During this period, total fluid
milk sales experienced steady growth, likely driven by population growth
and increased demand for dairy products.</p>
<p>b.Plateau Phase (mid-1980s to around 2010): Sales remained relatively
stable, indicating a period of sus- tained consumption where demand
neither increased nor decreased significantly.</p>
<p>c.Decline Period (2010 to 2023): After 2010, a sharp and continuous
decline in fluid milk sales is observed, reflecting a significant shift
in consumer preferences and market trends.</p>
<p>the data suggests a major transformation in the dairy industry,
particularly in the last decade, as consumer behaviors evolve.
Understanding the underlying factors driving these trends would be key
for stakeholders in the dairy market to adapt to these changes.</p>
</div>
<div id="mean-sales-over-decades" class="section level2">
<h2>mean sales over decades</h2>
<pre class="r"><code>library(ggplot2)
library(dplyr)


fluidmilk_data &lt;- fluidmilk_data %&gt;%
  mutate(Decade = floor(Year / 10) * 10)  


mean_sales_by_decade &lt;- fluidmilk_data %&gt;%
  group_by(Decade) %&gt;%
  summarise(Mean_Sales = mean(Total_Sales, na.rm = TRUE))  


ggplot(mean_sales_by_decade, aes(x = as.factor(Decade), y = Mean_Sales)) +
  geom_col(fill = &quot;steelblue&quot;) +
  labs(
    title = &quot;Mean Fluid Milk Sales by Decade&quot;,
    x = &quot;Decade&quot;,
    y = &quot;Mean Sales (Million Pounds)&quot;
  ) +
  theme_minimal()</code></pre>
<p><img src="milk-over-the-years_files/figure-html/unnamed-chunk-3-1.png" width="672" /></p>
<p>This histogram shows the mean fluid milk sales by decade. Sales
remained relatively stable from the 1970s to the 2000s, hovering around
similar levels. A noticeable decline begins in the 2010s and continues
into the 2020s, reflecting shifting consumer preferences and reduced
demand for fluid milk. This trend highlights a major change in the milk
market over the past two decades.</p>
</div>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
